<!DOCTYPE html>
<html>
<head>
  <title><%= content_for?(:title) ? yield(:title)+" | erdos" : "erdos" %></title>
  <%= favicon_link_tag 'favicon.ico' %>
  <%= stylesheet_link_tag  '//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css' %>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet">
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/contrib/auto-render.min.js"></script>

  <%= csrf_meta_tags %>
  <%= action_cable_meta_tag %>
</head>
<body>
<% if params[:controller] == 'welcome' && params[:action] == 'index'%>

<% else %>
    <div id="sidebar" class="sideNav">
        <!--<a href="javascript:void(0)" id="closeBtn" onClick="closeSidebar()" class="closeBtn"><<</a>-->
        <% if !current_user.nil? %>
            <%= link_to @current_user.username, @current_user, class: 'username' %>
        <% end %>
        <!--<a href="/home">Home</a>-->
        <a href="/chatrooms">Chatrooms</a>
        <a href="/users">Users</a>
        <% if current_user.nil? %>
            <a href="/login">Login</a>
        <% end %>
        <% if !current_user.nil? %>
            <%= link_to "Log out", logout_path, method: :delete %>
        <% end %>
    </div>
    <div id="sideBarCloser" onClick="closeSidebar()" class="sideBarToggle"><<</div>
    <div id="sideBarOpener" onClick="openSidebar()" class="sideBarToggle">>></div>
<% end %>

<% if params[:controller] == 'welcome' && params[:action] == 'index'%>
    <%= yield %>
<% else %>
    <div id="container">
        <%= yield %>
    </div>
<% end %>
<%= javascript_include_tag  '//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js' %>
</body>
</html>
